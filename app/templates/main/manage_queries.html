{% extends "base.html" %}
{% from 'components/modal.html' import confirm_modal %}

{% block body %}
	<div class="container-fluid py-4">
		<div class="row">
			<div class="col-12">
				<div class="card mb-4">
					<div class="card-header pb-0">
						<h6>Manage queries</h6>
					</div>
					<div class="card-body px-0 pt-0 pb-2">
						<div class="container">
							{% for query in queries %}
								{{ query.name }}
								<a href={{ url_for("main.show_query", id=query.id) }}>show</a>
								<a href={{ url_for("main.edit_query", id=query.id) }}>edit</a>
								<a class="btn btn-danger" data-bs-toggle="modal"
								   data-bs-target="#modal-delete-{{ query.id }}">delete</a>
								
								{{ confirm_modal("Delete Query", query.id, "main.delete_query") }}
							{% endfor %}
							<br>
							<a href={{ url_for("main.admin") }}>back</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script>
        let element = document.getElementById("adminLink");
        element.classList.add("active");
        element = document.getElementById("adminLinkMobile");
        element.classList.add("active");
	</script>

{% endblock %}
